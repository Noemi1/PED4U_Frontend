<p-dialog header="Header"
          [(visible)]="visible"
          (visibleChange)="voltar()"
          [style]="{width: '900px'}"
          [modal]="true"
          [draggable]="true"
          [resizable]="false"
          [maximizable]="true"
          [closable]="true"
          [closeOnEscape]="true">
  <ng-template pTemplate="header">
    <div class="d-flex align-items-center justify-content-center gap-2">
      <p-avatar icon="bi bi-backpack" shape="circle" size="large" />
      <h2 class="font-bold white-space-nowrap">{{title}}</h2>
    </div>
  </ng-template>
  <form #form="ngForm">
    <div class="row">
      <div class="d-flex flex-column mb-2 col-sm-6 col-12"> <!-- Nome -->
          <label for="nome" class="mb-1 ms-1">Nome: <span class="text-danger">*</span></label>
          <input type="text"
                 pInputText
                 name="nome"
                 id="nome"
                 name="nome"
                 #nome="ngModel"
                 [(ngModel)]="objeto.nome"
                 placeholder="Nome"
                 pattern="\S(.*\S)?"
                 (change)="objeto.nome = nome.value.trim(); "
                 required />
          <div *ngIf="nome.touched && nome.errors">
              <p class="text-danger my-0 ms-1" *ngIf="nome.errors['required']">Este campo é obrigatório.</p>
          </div>
      </div>
      <div class="d-flex flex-column mb-2 col-sm-6 col-12"> <!-- Nome -->
        <label for="qtdePaginas" class="mb-1 ms-1">Quantidade de páginas: <span class="text-danger">*</span></label>
        <input type="numer"
               pInputText
               name="qtdePaginas"
               id="qtdePaginas"
               name="qtdePaginas"
               #qtdePaginas="ngModel"
               [(ngModel)]="objeto.qtdePaginas"
               placeholder="qtdePaginas"
               pattern="\S(.*\S)?"
               (change)="objeto.qtdePaginas = qtdePaginas.value.trim(); "
               required />
        <div *ngIf="qtdePaginas.touched && qtdePaginas.errors">
            <p class="text-danger my-0 ms-1" *ngIf="qtdePaginas.errors['required']">Este campo é obrigatório.</p>
        </div>
    </div>
  </div>
      <label for="realizada" class="mb-1 ms-1 ">Realizada: <span class="text-danger">*</span></label>
      <p-checkbox [(ngModel)]="objeto.materialExtra"
                  [binary]="true"
                  inputId="binary"
                  name="materialExtra"
                  id="materialExtra"
                  name="materialExtra"
                  #materialExtra="ngModel"
                  [(ngModel)]="objeto.materialExtra"
                  placeholder="Material Extra"
                  pattern="\S(.*\S)?"></p-checkbox>
  </form>
  <ng-template pTemplate="footer">
    <div class="d-flex align-items-center justify-content-between">
      <p class="text-danger" *ngIf="form.invalid">Preencha os campos corretamente para salvar.</p>
      <p-button icon="pi pi-check" (click)="send()" label="Salvar" [loading]="loading"
                [disabled]="loading || form.invalid == true" pAutoFocus [autofocus]="true"></p-button>
    </div>
  </ng-template>
</p-dialog>
